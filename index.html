<html>
    <head>
        <style>
            body {
                margin: 0;
                padding: 0;
            }

            canvas {
                background-color: #fcfcfc;
                display: block;
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                width: 100%;
                height: 100%;
            }
        </style>
    <body>
        
        <canvas></canvas>
    </body>
    <script>

        // Testing rename
        const draw = () => {
            const {width, height} = document.querySelector("canvas");
            const count = 20;
            const isoWidth = width  / count;
            const isoHeight = (isoWidth * 2) / Math.sqrt(3);

            const top = (height / 2);
            const left = -1 * (width / 2);
            const adjustedLeft = left;

            for(let i = 0; i < count; i++){
                for(let j = 0; j < count + 1; j++){
                    drawIsometricCube({
                        x:adjustedLeft + (j * isoWidth ) - ( i % 2 == 1 ? isoWidth * 1/2 : 0),
                        y:top - (i * isoHeight - (isoHeight * (1/4 * (i +1 )))), 
                        h:isoHeight, 
                        w:isoWidth});                
                }
            }
        };


        const drawIsometricCube = ({x, y, w, h}) =>{
            const canvas = document.querySelector("canvas");
            const ctx = canvas.getContext("2d");

            ctx.beginPath();
            ctx.moveTo(x + (w  / 2), y);
            ctx.lineTo(x + w, y - (h  / 4));
            ctx.lineTo(x + (w  / 2), y - (h / 2));
            ctx.lineTo(x, y - (h  / 4));
            ctx.lineTo(x + (w  / 2), y);
            ctx.stroke();
            ctx.fillStyle = "red";
            ctx.fill();

            ctx.beginPath();
            ctx.moveTo(x, y - (h  / 4));
            ctx.lineTo(x, (y - (h  / 4)) - h/2);
            ctx.lineTo(x + (w  / 2), y - h);
            ctx.lineTo(x + (w  / 2), y - (h / 2));
            ctx.lineTo(x, y - (h  / 4));
            ctx.strokeStyle = "blue"
            ctx.stroke();
            ctx.fillStyle = "orange";
            ctx.fill();


            ctx.beginPath();
            ctx.moveTo(x + w, y - (h  / 4));
            ctx.lineTo(x + (w  / 2), y - (h / 2));
            ctx.lineTo(x + (w  / 2), y - h);
            ctx.lineTo(x + w, y - (h  * 3/ 4));
            ctx.lineTo(x + w, y - (h  / 4));


            ctx.strokeStyle = "green"
            ctx.stroke();
            ctx.fillStyle = "blue";
            ctx.fill();

/*
            ctx.moveTo(x + (w  / 2), y  - (h/ 2));
            ctx.lineTo(x + (w  / 2), y - h);

            ctx.moveTo(x + w, y - (h  / 4));
            ctx.lineTo(x + w,  (y - (h  / 4)) - h/2);
            ctx.moveTo(x + w,  (y - (h  / 4)) - h/2);
            ctx.lineTo(x + (w  / 2), y - h);
            ctx.moveTo(x, y - (h - (h  / 4)));
            ctx.lineTo(x + (w  / 2), y - h);
*/
        }

        const resize = () => {
            const canvas = document.querySelector("canvas");
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            const ctx = canvas.getContext("2d");
            ctx.setTransform(1,0,0,-1,window.innerWidth / 2,window.innerHeight / 2);
            draw();
        }

        window.addEventListener('resize', resize);
        resize();
        draw();

    </script>

</html>